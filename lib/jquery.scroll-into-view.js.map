{"version":3,"file":null,"sources":["../src/helpers.js","../src/defaults.js","../src/scroll.js","../src/index.js"],"sourcesContent":["function getAllElements (elements) {\n  return $(elements)\n    .map(function (i, e) {\n      return $(e).get(0)\n    })\n    .toArray()\n}\n\nfunction getHeight (value) {\n  if (typeof value === 'number') {\n    return value\n  }\n  const $element = $(value)\n  return $element.is(':visible')\n      ? $element.outerHeight()\n      : 0\n}\n\nfunction getElementBounds (element) {\n  const b = element.getBoundingClientRect()\n  return {\n    top: b.top,\n    bottom: b.bottom,\n    height: b.height\n  }\n}\n\nfunction getSelectionBounds (elements) {\n  let bounds = null\n  elements\n    .forEach(function (element) {\n      if ($(element).is(':visible')) { // don't include invisible elements\n        const b = getElementBounds(element)\n        if (!bounds) {\n          bounds = b\n        }\n        else {\n          if (b.top < bounds.top) {\n            bounds.top = b.top\n          }\n          if (b.bottom > bounds.bottom) {\n            bounds.bottom = b.bottom\n          }\n        }\n      }\n    })\n  bounds.height = bounds.bottom - bounds.top\n  return bounds\n}\n\nexport {\n  getAllElements,\n  getHeight,\n  getElementBounds,\n  getSelectionBounds\n}\n","/**\n * @property  {Number|String|HTMLElement}   vt          Viewport top; can be a number, selector or element\n * @property  {Number|String|HTMLElement}   vb          Viewport bottom; can be a number, selector or element\n * @property  {Number|String}               pt          Padding top; can be a number, string percent value, or the string 'auto'\n * @property  {Number}                      pb          Padding bottom\n * @property  {Object|Function}             bounds      Custom bounds; pass in a bounds object {top, bottom, height} or a function that returns the same: getBounds(elements)\n * @property  {Function}                    fn          Optional scroll function to call instead of the default; scrollTo(value, options, values)\n * @property  {Boolean}                     force       Force the element to scroll into position, even if it's already on-screen\n * @property  {Number}                      duration    Scroll duration; in milliseconds\n */\nexport default {\n  vt: 0,\n  vb: 0,\n  pt: 20,\n  pb: 20,\n  bounds: null,\n  fn: null,\n  force: false,\n  duration: 400\n}\n","import defaults from './defaults'\n\nimport {\n  getHeight,\n  getSelectionBounds\n} from './helpers'\n\nfunction scrollTo (value, options) {\n    $('html, body').stop(true).animate({scrollTop: value}, options.duration)\n}\n\nexport default function (elements, opts) {\n  // apply forced scrolling\n  if ((typeof opts.force === 'string' || typeof opts.force === 'number') && ! opts.pt) {\n      opts.pt = opts.force\n      opts.force = true\n  }\n\n  // options\n  const options = $.extend({}, defaults, opts)\n\n  // window\n  const wh = $(window).height()\n  const wy = document.body.scrollTop\n\n  // viewport\n  const vt = getHeight(options.vt)\n  const vb = getHeight(options.vb)\n  const vh = wh - vt - vb\n\n  // bounds\n  const bounds = options.bounds\n    ? typeof options.bounds === 'function'\n      ? options.bounds(elements)\n      : options.bounds\n    : getSelectionBounds(elements)\n\n  // correct bottomless-bounds\n  if (typeof bounds.bottom === 'undefined') {\n    bounds.bottom = bounds.top + bounds.height\n  }\n\n  // padding\n  let pt = options.pt\n  let pb = options.pb\n\n  // calculation for string padding\n  if (pt === 'auto') {\n    pt = '50%'\n  }\n  if (/^\\d+%$/.test(String(pt))) {\n    const pc = parseInt(pt) / 100\n    const pd = vh - bounds.height\n    pt = Math.floor(pd * pc)\n    pb = Math.floor(pd * (1 - pc))\n  }\n\n  // element bounds\n  const eh = bounds.height + pt + pb\n  const et = bounds.top - pt\n  const eb = bounds.bottom + pb\n\n  // offset\n  const ot = et - vt\n  const ob = eb - vt - vh\n\n  // final values\n  const fn = options.fn || scrollTo\n  const values = {wh: wh, wy: wy, vt: vt, vb: vb, vh: vh, pt: pt, pb: pb, eh: eh, et: et, eb: eb, ot: ot, ob: ob}\n\n  // scroll\n  if (ot <= 0 || (ob >= 0 && eh > vh) || !!options.force) {\n    fn(wy + ot, options, values)\n  }\n  else if (ob > 0) {\n    fn(wy + ob, options, values)\n  }\n}\n","import {getAllElements} from './helpers'\nimport defaults from './defaults'\nimport scroll from  './scroll'\n\n/**\n * Scroll Into View plugin\n *\n * Scrolls an element into view, with a few helpful features / options\n *\n * @see https://github.com/davestewart/jquery-scroll-into-view\n * @author Dave Stewart\n * @date 14 March 2017\n */\nlet scrollIntoView = function (options) {\n  const elements = getAllElements(this.toArray())\n  if (elements.length) {\n    scroll(elements, options || {})\n  }\n  return this\n}\n\n// set / get default options\nscrollIntoView.options = function (options) {\n  if (typeof options === 'object' && options !== null) {\n    jQuery.extend(defaults, options)\n  }\n  return defaults\n}\n\n// assign plugin\njQuery.fn.scrollIntoView = scrollIntoView\n"],"names":["getAllElements","elements","$","map","i","e","get","toArray","getHeight","value","$element","is","outerHeight","getElementBounds","element","b","getBoundingClientRect","top","bottom","height","getSelectionBounds","bounds","forEach","scrollTo","options","stop","animate","scrollTop","duration","opts","force","pt","extend","defaults","wh","window","wy","document","body","vt","vb","vh","pb","test","String","pc","parseInt","pd","Math","floor","eh","et","eb","ot","ob","fn","values","scrollIntoView","length","jQuery"],"mappings":";;;;;;AAAA,SAASA,cAAT,CAAyBC,QAAzB,EAAmC;SAC1BC,EAAED,QAAF,EACJE,GADI,CACA,UAAUC,CAAV,EAAaC,CAAb,EAAgB;WACZH,EAAEG,CAAF,EAAKC,GAAL,CAAS,CAAT,CAAP;GAFG,EAIJC,OAJI,EAAP;;;AAOF,SAASC,SAAT,CAAoBC,KAApB,EAA2B;MACrB,OAAOA,KAAP,KAAiB,QAArB,EAA+B;WACtBA,KAAP;;MAEIC,WAAWR,EAAEO,KAAF,CAAjB;SACOC,SAASC,EAAT,CAAY,UAAZ,IACDD,SAASE,WAAT,EADC,GAED,CAFN;;;AAKF,SAASC,gBAAT,CAA2BC,OAA3B,EAAoC;MAC5BC,IAAID,QAAQE,qBAAR,EAAV;SACO;SACAD,EAAEE,GADF;YAEGF,EAAEG,MAFL;YAGGH,EAAEI;GAHZ;;;AAOF,SAASC,kBAAT,CAA6BnB,QAA7B,EAAuC;MACjCoB,SAAS,IAAb;WAEGC,OADH,CACW,UAAUR,OAAV,EAAmB;QACtBZ,EAAEY,OAAF,EAAWH,EAAX,CAAc,UAAd,CAAJ,EAA+B;;UACvBI,IAAIF,iBAAiBC,OAAjB,CAAV;UACI,CAACO,MAAL,EAAa;iBACFN,CAAT;OADF,MAGK;YACCA,EAAEE,GAAF,GAAQI,OAAOJ,GAAnB,EAAwB;iBACfA,GAAP,GAAaF,EAAEE,GAAf;;YAEEF,EAAEG,MAAF,GAAWG,OAAOH,MAAtB,EAA8B;iBACrBA,MAAP,GAAgBH,EAAEG,MAAlB;;;;GAZV;SAiBOC,MAAP,GAAgBE,OAAOH,MAAP,GAAgBG,OAAOJ,GAAvC;SACOI,MAAP;CAGF;;AClDA;;;;;;;;;;AAUA,eAAe;MACT,CADS;MAET,CAFS;MAGT,EAHS;MAIT,EAJS;UAKL,IALK;MAMT,IANS;SAON,KAPM;YAQH;CARZ;;ACHA,SAASE,QAAT,CAAmBd,KAAnB,EAA0Be,OAA1B,EAAmC;IAC7B,YAAF,EAAgBC,IAAhB,CAAqB,IAArB,EAA2BC,OAA3B,CAAmC,EAACC,WAAWlB,KAAZ,EAAnC,EAAuDe,QAAQI,QAA/D;;;AAGJ,aAAe,UAAU3B,QAAV,EAAoB4B,IAApB,EAA0B;;MAEnC,CAAC,OAAOA,KAAKC,KAAZ,KAAsB,QAAtB,IAAkC,OAAOD,KAAKC,KAAZ,KAAsB,QAAzD,KAAsE,CAAED,KAAKE,EAAjF,EAAqF;SAC5EA,EAAL,GAAUF,KAAKC,KAAf;SACKA,KAAL,GAAa,IAAb;;;;MAIEN,UAAUtB,EAAE8B,MAAF,CAAS,EAAT,EAAaC,QAAb,EAAuBJ,IAAvB,CAAhB;;;MAGMK,KAAKhC,EAAEiC,MAAF,EAAUhB,MAAV,EAAX;MACMiB,KAAKC,SAASC,IAAT,CAAcX,SAAzB;;;MAGMY,KAAK/B,UAAUgB,QAAQe,EAAlB,CAAX;MACMC,KAAKhC,UAAUgB,QAAQgB,EAAlB,CAAX;MACMC,KAAKP,KAAKK,EAAL,GAAUC,EAArB;;;MAGMnB,SAASG,QAAQH,MAAR,GACX,OAAOG,QAAQH,MAAf,KAA0B,UAA1B,GACEG,QAAQH,MAAR,CAAepB,QAAf,CADF,GAEEuB,QAAQH,MAHC,GAIXD,mBAAmBnB,QAAnB,CAJJ;;;MAOI,OAAOoB,OAAOH,MAAd,KAAyB,WAA7B,EAA0C;WACjCA,MAAP,GAAgBG,OAAOJ,GAAP,GAAaI,OAAOF,MAApC;;;;MAIEY,KAAKP,QAAQO,EAAjB;MACIW,KAAKlB,QAAQkB,EAAjB;;;MAGIX,OAAO,MAAX,EAAmB;SACZ,KAAL;;MAEE,SAASY,IAAT,CAAcC,OAAOb,EAAP,CAAd,CAAJ,EAA+B;QACvBc,KAAKC,SAASf,EAAT,IAAe,GAA1B;QACMgB,KAAKN,KAAKpB,OAAOF,MAAvB;SACK6B,KAAKC,KAAL,CAAWF,KAAKF,EAAhB,CAAL;SACKG,KAAKC,KAAL,CAAWF,MAAM,IAAIF,EAAV,CAAX,CAAL;;;;MAIIK,KAAK7B,OAAOF,MAAP,GAAgBY,EAAhB,GAAqBW,EAAhC;MACMS,KAAK9B,OAAOJ,GAAP,GAAac,EAAxB;MACMqB,KAAK/B,OAAOH,MAAP,GAAgBwB,EAA3B;;;MAGMW,KAAKF,KAAKZ,EAAhB;MACMe,KAAKF,KAAKb,EAAL,GAAUE,EAArB;;;MAGMc,KAAK/B,QAAQ+B,EAAR,IAAchC,QAAzB;MACMiC,SAAS,EAACtB,IAAIA,EAAL,EAASE,IAAIA,EAAb,EAAiBG,IAAIA,EAArB,EAAyBC,IAAIA,EAA7B,EAAiCC,IAAIA,EAArC,EAAyCV,IAAIA,EAA7C,EAAiDW,IAAIA,EAArD,EAAyDQ,IAAIA,EAA7D,EAAiEC,IAAIA,EAArE,EAAyEC,IAAIA,EAA7E,EAAiFC,IAAIA,EAArF,EAAyFC,IAAIA,EAA7F,EAAf;;;MAGID,MAAM,CAAN,IAAYC,MAAM,CAAN,IAAWJ,KAAKT,EAA5B,IAAmC,CAAC,CAACjB,QAAQM,KAAjD,EAAwD;OACnDM,KAAKiB,EAAR,EAAY7B,OAAZ,EAAqBgC,MAArB;GADF,MAGK,IAAIF,KAAK,CAAT,EAAY;OACZlB,KAAKkB,EAAR,EAAY9B,OAAZ,EAAqBgC,MAArB;;;;;;;;;;ACvEJ;;;;;;;;;AASA,IAAIC,iBAAiB,SAAjBA,cAAiB,CAAUjC,OAAV,EAAmB;MAChCvB,WAAWD,eAAe,KAAKO,OAAL,EAAf,CAAjB;MACIN,SAASyD,MAAb,EAAqB;WACZzD,QAAP,EAAiBuB,WAAW,EAA5B;;SAEK,IAAP;CALF;;;AASAiC,eAAejC,OAAf,GAAyB,UAAUA,OAAV,EAAmB;MACtC,QAAOA,OAAP,yCAAOA,OAAP,OAAmB,QAAnB,IAA+BA,YAAY,IAA/C,EAAqD;WAC5CQ,MAAP,CAAcC,QAAd,EAAwBT,OAAxB;;SAEKS,QAAP;CAJF;;;AAQA0B,OAAOJ,EAAP,CAAUE,cAAV,GAA2BA,cAA3B;;"}